{"version":3,"file":"batch.cjs","sources":["../../../src/utils/batch.ts"],"sourcesContent":["import { batch as storeBatch } from '@tanstack/store'\n\nimport { isServer } from '@tanstack/router-core/isServer'\n\n// `@tanstack/store`'s `batch` is for reactive notification batching.\n// On the server we don't subscribe/render reactively, so a lightweight\n// implementation that just executes is enough.\nexport function batch<T>(fn: () => T): T {\n  if (isServer) {\n    return fn()\n  }\n\n  let result!: T\n  storeBatch(() => {\n    result = fn()\n  })\n  return result\n}\n"],"names":["isServer","storeBatch"],"mappings":";;;;AAOO,SAAS,MAAS,IAAgB;AACvC,MAAIA,mBAAU;AACZ,WAAO,GAAA;AAAA,EACT;AAEA,MAAI;AACJC,QAAAA,MAAW,MAAM;AACf,aAAS,GAAA;AAAA,EACX,CAAC;AACD,SAAO;AACT;;"}